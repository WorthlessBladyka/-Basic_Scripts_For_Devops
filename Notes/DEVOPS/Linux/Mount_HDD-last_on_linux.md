# Command fdisk

``` return_list_disk
$ fdisk -l
```
![[Снимок экрана 2025-10-10 в 1.17.27 PM.png]]
**==fdisk==** (format disk) - это утилита для создания и изменения таблицы разделов диска.

! /dev/==sda== (sata disk number), второй sata disk b, sda-sdb-sdc

[Подробнее](https://www.geeksforgeeks.org/linux-unix/fdisk-command-in-linux-with-examples/)

# Command lsblk

```
$ lsblk 
```
 ==**lsblk**== - выводит информацию обо всех доступных или указанных блоках устройства.
 
 [Подробнее](https://man7.org/linux/man-pages/man8/lsblk.8.html#:~:text=lsblk%20lists%20information%20about%20all,types%20from%20the%20block%20device.)
 
# Command cfdisk
```
$ cfdisk /dev/sdb
```
==**cfdisk**== используется для создания, удаления и изменения разделов на диске.

# Command mkfd.ntfs

```
$ mkfs.ntfs -f /dev/sdb1
```

**==mkfs.ntfs==** - утилита, входящая в состав пакета ntfs-3g. Она используется для создания новой файловой системы NTFS, которая обычно используется в среде Windows. Эта команда очень удобна, когда нужно создать на диске или разделить файловую систему, совместимую с Windows.

Параметры:
- `-L label`позволяет установить метку тома.
- `-Q`сообщает команде, что не следует выполнять медленное форматирование. Это будет быстрее, но менее безопасно.
- `-f`принудительно запускает команду, даже если устройство в данный момент смонтировано (не рекомендуется).

! Использование на смонтированных устройствах: запуск `mkfs.ntfs`на устройстве, которое в данный момент смонтировано, может привести ==к повреждению данных==. **Всегда отмонтируйте все разделы**, с которыми вы собираетесь работать.

# Create new раздела and форматирование
### new раздел

1) запускаем команду cfdisk /dev/sdb
2) выбираем нужный формат

|Таблица|Макс. размер|Макс. разделы|Совместимость|Лучшее для|
|---|---|---|---|---|
|**GPT**|9.4 ЗБ|128+|UEFI системы|Современные ПК, SSD|
|**DOS**|2.2 ТБ|4 основных|BIOS системы|Старые ПК, совместимость|
|**SGI**|Зависит от ОС|Зависит от ОС|SGI工作站|Старые SGI системы|
|**SUN**|Зависит от ОС|Зависит от ОС|Sun SPARC|Серверы Sun|
3) New раздел
4) Select size
5) Press Write
6) Exit
### Форматирование и создание файловой системы
1)  mkfs.ntfs -f /dev/sdb1 (в случае, ntfs)

! При создание раздела и определения файловой системы, но он создался по-дурацки:
```
$ mkdir hdd2 /home/bban/
		# создаем директорию в которую будем переходить для доступа файлов "sdb"
$ chmod 777 ./hdd2

$ sudo nano /etc/fstab
		# Файл fstab можно использовать для определения того, как разделы диска, различные другие блочные устройства или удаленные файловые системы должны быть монтированы в файловую систему.
		# </dev/sdb1 или UUID> /home/bban/media/hhd2 ntfs  default 0 0
		
$ sudo mount ./media/hdd2    
		# Далее монтируем
$ ln -s /media/hhd2 <куда>   
		# Опционально, делаем линк на hhd2 из удобного места	
```