![[Снимок экрана 2025-11-24 в 12.44.20 PM.png]]
"or" "and" "!=" "\=\="
![[Снимок экрана 2025-11-24 в 12.44.39 PM.png]]
==ansible_os_family== переменная, которая содержит определение семейства операционной системы хоста
- RedHat
- Suse
- Arch
- Debian
- Independent
- **Пакетные менеджеры**:
    - Debian: `.deb` (apt/dpkg)
    - Red Hat: `.rpm` (yum/dnf)
    - Arch: `.pkg` (pacman)
==ansible_distrbution_version== переменная, которая содержит версию дестрибутива хоста
![[Снимок экрана 2025-11-24 в 12.50.49 PM.png]]
**`register`** - это директива Ansible, которая сохраняет результат выполнения задачи (task) в переменную
После выполнения этой задачи в переменной `command_output` будет содержаться:
- `stdout` - стандартный вывод команды (содержимое файла)
- `stderr` - ошибки (если есть)
- `rc` - return code (код возврата)
- и другая метаинформация

`when: 'command_output.stdout.find("10.0.250.10") == -1'`
1. `command_output.stdout` - получаем вывод команды `cat /etc/resolv.conf`
2. `.find("10.0.250.10")` - ищем подстроку "10.0.250.10" в этом выводе
3. `== -1` - проверяем, что строка НЕ найдена
    - `find()` возвращает `-1` если подстрока не найдена
    - возвращает индекс позиции если найдена

Вариант c ==`not in`== более понятен и рекомендуется для использования в Ansible
`when: "'10.0.250.10' not in command_output.stdout"`